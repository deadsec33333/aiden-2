var $window=$(window);var initIECScrollHandlerTrending=function(){$(".secondary-nav").scroll(function(){var $width=$(".secondary-nav").outerWidth();var $scrollWidth=$(".secondary-nav")[0].scrollWidth;var $scrollLeft=$(".secondary-nav").scrollLeft();if($scrollWidth-$width===$scrollLeft){$(".secondary").addClass("end-shadow-right")}else{$(".secondary").removeClass("end-shadow-right")}if($scrollLeft>80){$(".secondary").addClass("left-shadow")}if($scrollLeft===0){$(".secondary").removeClass("end-shadow-right left-shadow")}})};initIECScrollHandlerTrending();var initIECScrollReadMorePopUp=function(){$(document).ready(function(){$("#expand-share").on("click",function(event){$(".expanded-icons").fadeToggle()})});setTimeout(function(){if($("#skin-pop-up").attr("href")===undefined&&$("#skin-dfp").attr("href")===undefined){if(typeof Connext!=="undefined"){var user_state=Connext.Storage.GetUserState();var article_left=Connext.Storage.GetArticlesLeft();var isPaywall=IE.isPaywall;var isReadmore="";isPaywall==true&&article_left==0&&user_state!=="Subscribed"?isReadMore=false:isReadMore=true}else{var isReadMore=true}$(window).scroll(function(){var scroll=$(document).scrollTop();if(scroll>=300){$(".subscribe-tag").addClass("fadein")}if(isReadMore&&scroll>=.2*$(document).height()){$(".readmore-pop-up").addClass("fadein");if($(".readmore-pop-up")[0]){$(".share-buttons-mobile").css("bottom",$(".readmore-pop-up").height()+20+"px")}}});$(".btn-close-pop-up").click(function(){$(".readmore-pop-up").removeClass("fadein");$(".share-buttons-mobile").css("bottom","0px");setTimeout(function(){$(".readmore-pop-up").remove()},500)})}else{$(".readmore-pop-up").remove()}},5e3)};initIECScrollReadMorePopUp();var initShareButtonsPopUp=function(){if($(".share-popup")[0]){$(".share-popup").click(function(){window.open($(this).attr("href"),"popup","width=600,height=600");return false})}};initShareButtonsPopUp();var nfycItemStatistic=function(shortCode,dsId,puId,type){if(!puId){puId=1}if(!type){type=0}const uri=nfyDomain+"/REST/frontend/itemstatistics/"+shortCode+"/"+dsId+"?puid="+puId+"&type="+type+"&rand="+Math.random()*1e5;$.ajax({type:"GET",cache:false,url:uri})};var initStatisticForArticles=function(){var foundArticleDetail=$(".nfyc-detail-view"),publicationId,datasetId,statsticType;if(typeof foundArticleDetail!=="undefined"){publicationId=foundArticleDetail.data("puid");datasetId=foundArticleDetail.data("id");statsticType=foundArticleDetail.data("statistic-type");if(typeof publicationId!=="undefined"&&typeof datasetId!=="undefined"&&typeof statsticType!=="undefined"){nfycItemStatistic("ar",datasetId,publicationId,statsticType)}}};initStatisticForArticles();var subnav=function(){$("#navbar-IE-subnav").slideToggle("slow",function(){if($(this).is(":visible"))$(this).css("display","flex")});$("#navbar-IE").toggleClass("submenu-open")};var initSubnavClickHandler=function(){if($window.width()>=768){var navElement=$("a.more-click");if(typeof navElement!=="undefined"){navElement.on("click",function(){subnav()})}}};initSubnavClickHandler();var initMobileSubnav=function(){if($window.width()<768){var navElementMobile=$(".navbar-nav .nav-item");if(typeof navElementMobile!=="undefined"){navElementMobile.on("click",function(){$(".dropdown-menu-hover",this).toggleClass("show-submenu")})}}};initMobileSubnav();var initTimeAgo=function(){if($(".time-ago")[0]){var actualTime=Math.round(new Date/1e3);var timeAgo="";$(".time-ago").each(function(){var validFrom=$(this).data("time");var time_elapsed=actualTime-validFrom;var seconds=time_elapsed;var minutes=Math.round(time_elapsed/60);var hours=Math.round(time_elapsed/3600);var days=Math.round(time_elapsed/86400);var weeks=Math.round(time_elapsed/604800);var months=Math.round(time_elapsed/2600640);var years=Math.round(time_elapsed/31207680);if(seconds<=60){timeAgo=seconds+" seconds ago"}else if(minutes<=60){if(minutes==1){var timeAgo="one minute ago"}else{var timeAgo=minutes+" minutes ago"}}else if(hours<=24){if(hours==1){var timeAgo="an hour ago"}else{var timeAgo=hours+" hours ago"}}else if(days<=7){if(days==1){var timeAgo="yesterday"}else{var timeAgo=days+" days ago"}}else if(weeks<=4.3){if(weeks==1){timeAgo="a week ago"}else{timeAgo=weeks+" weeks ago"}}else if(months<=12){if(months==1){timeAgo="a month ago"}else{timeAgo=months+" months ago"}}else{if(years==1){timeAgo="one year ago"}else{timeAgo=years+" years ago"}}$(this).html(timeAgo)});setTimeout(initTimeAgo,6e4)}};initTimeAgo();function checkCohort(idChohort){const cohorts=JSON.parse(window.localStorage.getItem("_psegs"));return cohorts.includes(idChohort)}naviga_paywallHit=false;document.addEventListener("onPaywallShown",function(){naviga_paywallHit=true});function addSpinner(){$(".premium-box").append('<div class="p-content-spinner"><div class="spinner-orange"></div></div>')}addSpinner();function removeSpinner(){$(".p-content-spinner").remove()}function hidePremiumContent(){let user_state=Connext.Storage.GetUserState();let p_boxes=$(".premium-box");let userID=encodeURIComponent(Connext.Storage.GetUserData().MasterId);for(const p_box of p_boxes){let status=$(p_box).data("status");if(status!=="done"){$(p_box).attr("data-status","done");let utm_link=$(p_box).data("utm");let podcast_id=$(p_box).data("podcast-id");let container_class=$(p_box).data("container-class");if(utm_link===""||utm_link===undefined){utm_link="https://subscribe.irishexaminer.com/"}let copy_podcast="";let copy_link="https://www.irishexaminer.com/podcast/?podcast="+podcast_id+"&user="+userID;removeSpinner();if(podcast_id===""||podcast_id===undefined){copy_podcast=""}else{copy_podcast='<button class="btn-rss" onclick="copyRss(this)" data-href="'+copy_link+'"><span class="rss-info">Copied!</span>Copy RSS feed URL to listen on podcast players<i class="fa fa-rss">&#xf09e;</i></button>'}$("#"+container_class+"-player #player-content").append(copy_podcast);if(user_state==="Logged Out"){$(p_box).append('<div class="p-content"><p class="p-content-strap">This is exclusive subscriber content. </br>Already a subscriber? <a href="#"  onclick="cleanMG2();" data-mg2-action="login">Sign in</a></p><div class="p-contet-body"><img class="p-content-logo" loading="lazy" alt="IE Logo" src="/pu_examiner/images/IE_logo_180px.png" /><h2 class="p-content-title">Subscribe for the stories that matter.</h2><p class="p-content-subtitle">Read, listen and watch exclusive subscriber content.</p><a class="p-content-btn" href="'+utm_link+'" target="_blank">Subscribe now</a></div></div>')}else if(user_state==="Logged In"||user_state==="No Active Subscription"){$(p_box).append('<div class="p-content"><p class="p-content-strap">This is exclusive subscriber content.</p><div class="p-contet-body"><img class="p-content-logo" loading="lazy" alt="IE Logo" src="/pu_examiner/images/IE_logo_180px.png" /><h2 class="p-content-title">Subscribe for the stories that matter.</h2><p class="p-content-subtitle">Read, listen and watch exclusive subscriber content.</p><a class="p-content-btn" href="'+utm_link+'" target="_blank">Subscribe now</a></div></div>')}}}}function premiumUsers(){let checkInstate=getCookie("instate");if(checkInstate==="Subscribed"){removeSpinner()}}premiumUsers();function copyRss(e){let copyLink=$(e).data("href");navigator.clipboard.writeText(copyLink).then(function(){$(".rss-info").fadeIn().delay(1e3).fadeOut();console.log("Async: Copying to clipboard was successful!")},function(err){console.error("Async: Could not  copy text: ",err)})}function removeIframes(){$(".optanon-category-C0003").hide()}function initInplayer(){if(IE_FunctionalCookies===true){initCookieFunctions()}else{removeIframes()}hidePremiumContent();if(typeof rPermutive!=="undefined"){rPermutive()}if(typeof rPermutiveArticle!=="undefined"){rPermutiveArticle()}}setTimeout(function(){if(typeof Connext==="undefined"&&getCookie("auth0.is.authenticated")==="true"){if(IE_FunctionalCookies===true){setTempStatus()}initInplayer()}},2e4);document.addEventListener("DOMContentLoaded",function(){let lazyloadBgImages;if("IntersectionObserver"in window){lazyloadBgImages=document.querySelectorAll(".lazy-bg");const bgImageObserver=new IntersectionObserver(entries=>{entries.forEach(entry=>{if(entry.isIntersecting){const bgImage=entry.target;bgImage.classList.remove("lazy-bg");bgImageObserver.unobserve(bgImage)}})});lazyloadBgImages.forEach(image=>bgImageObserver.observe(image))}else{let lazyloadThrottleTimeout;lazyloadBgImages=document.querySelectorAll(".lazy-bg");const lazyload=()=>{if(lazyloadThrottleTimeout){clearTimeout(lazyloadThrottleTimeout)}lazyloadThrottleTimeout=setTimeout(()=>{const scrollTop=window.pageYOffset;lazyloadBgImages.forEach(img=>{if(img.offsetTop<window.innerHeight+scrollTop){img.classList.remove("lazy-bg")}});if(!lazyloadBgImages.length){document.removeEventListener("scroll",lazyload);window.removeEventListener("resize",lazyload);window.removeEventListener("orientationChange",lazyload)}},20)};document.addEventListener("scroll",lazyload);window.addEventListener("resize",lazyload);window.addEventListener("orientationChange",lazyload)}});